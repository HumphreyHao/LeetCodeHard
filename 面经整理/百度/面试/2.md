# 百度暑期实习java二面
    https://www.nowcoder.com/discuss/446460?channel=-2&source_id=discuss_terminal_discuss_sim

## 垃圾回收只回收堆中对象吗?
基本上是的,大部分对象都存在堆内存中

## 如何保证不同线程之间隔离,同一线程共享
 ThreadLocal不是用于解决多线程共享资源的问题，因为每个线程都会备份ThreadLocal变量的副本，相当于对线程自身局部变量的操作，所以不存在资源同步的问题。ThreadLocal主要解决变量需要在线程内方法之间传递但在不同线程间隔离的问题。
每个访问 ThreadLocal 变量的线程都有自己的一个“本地”实例副本

## 引用顺序
强引用:绝不会被回收
软引用:内存空间不足就会被回收
弱引用:一旦被发现就被回收
虚引用:被回收的时候会发一个消息

## 说一下内存泄漏的场景
应用程序不再使用对象，但是垃圾回收器无法删除它们，因为它们已被引用。
class stack{    Object data[1000];    int top = -1;    public void push(Object o){        top++;        data[top] = o;    }    public Object pop(Object o){        top--;        return data[top+1];    }}

## 如何防止基础类被破坏
双亲委派模型。
具体实现：
![](https://user-gold-cdn.xitu.io/2018/7/4/16465fe65c8f85b4?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

一个类在加载时会优先让父类加载器去加载，如果不行再使用自定义加载器加载。

## 动态加载
动态加载是使用反射实现的，而静态加载是使用new关键字，在编译期实现的。
