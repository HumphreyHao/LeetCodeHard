# linux服务器部分/操作系统

## 怎么查看日志?如果只想看日志的最底端,用什么命令?如果想在日志里检索关键词,用什么命令?
使用tail -f test.log,查看最底端正在改变的文件.

head是查看前多少行日志.

cat是查看关键字的日志.

cat -n test.log |grep "debug"得到关键字行号
grep是查看关键字

tac和cat是相反的,cat可以显示整个文件.
cat可以合并文件.cat file1 file2 > file

cat -n test.log |grep "debug" |more     分页打印,空格翻页
cat -n test.log |grep "debug"  >debug.txt 拉下来查询

## 如何查看cpu使用情况?如果查看硬盘使用情况?
top命令查看cpu使用情况
df -h查看硬盘使用情况

## 什么是虚拟内存


## 内核态和用户态
权限不同。用户态的进程能够访问的资源受到了极大的控制，而运行在内核态的进程可以“为所欲为”.
**系统调用:**这是用户态进程主动要求切换到内核态的一种方式，用户态进程通过系统调用申请使用操作系统提供的服务程序完成工作，比如前例中fork()实际上就是执行了一个创建新进程的系统调用。而系统调用的机制其核心还是使用了操作系统为用户特别开放的一个中断来实现，例如Linux的int 80h中断。
**异常：**当CPU在执行运行在用户态下的程序时，发生了某些事先不可知的异常，这时会触发由当前运行进程切换到处理此异常的内核相关程序中，也就转到了内核态，比如缺页异常。
**外设中断：**当外围设备完成用户请求的操作后，会向CPU发出相应的中断信号，这时CPU会暂停执行下一条即将要执行的指令转而去执行与中断信号对应的处理程序，如果先前执行的指令是用户态下的程序，那么这个转换的过程自然也就发生了由用户态到内核态的切换。比如硬盘读写操作完成，系统会切换到硬盘读写的中断处理程序中执行后续操作等。

## 什么是INode
TODO

## 如果在日志中查找指定顺序怎么办
TODO

## 用户线程和内核线程
（1）内核支持线程是OS内核可感知的，而用户级线程是OS内核不可感知的。

（2）用户级线程的创建、撤消和调度不需要OS内核的支持，是在语言（如Java）这一级处理的；而内核支持线程的创建、撤消和调度都需OS内核提供支持，而且与进程的创建、撤消和调度大体是相同的。

（3）用户级线程执行系统调用指令时将导致其所属进程被中断，而内核支持线程执行系统调用指令时，只导致该线程被中断。

（4）在只有用户级线程的系统内，CPU调度还是以进程为单位，处于运行状态的进程中的多个线程，由用户程序控制线程的轮换运行；在有内核支持线程的系统内，CPU调度则以线程为单位，由OS的线程调度程序负责线程的调度。

（5）用户级线程的程序实体是运行在用户态下的程序，而内核支持线程的程序实体则是可以运行在任何状态下的程序。

## 什么是多线程,为什么要使用多线程
进程:CPU所能处理的单个任务
线程:资源调度的最小单位,进程中的一个单一顺序的控制流

多线程:一个进程开启多个线程,并发执行.

使用多线程可以加速IO密集型任务的运作效率,减少阻塞和等待.

未必,如果是CPU密集型任务,多线程反而慢

## 怎么开启多线程
创建一个线程,然后start;
或者用线程池;